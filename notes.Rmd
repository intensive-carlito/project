---
title: "Air BnB à Paris"
output:
  slidy_presentation: default
  beamer_presentation: default
  ioslides_presentation: default
---

---

# Les données Air BnB

* Le site `http://insideairbnb.com/` propose des fichiers csv à télécharger avec les appartements mis en location sur Air BnB. Nous avons donc récupéré un fichier `listings.csv` contenant environ 60 000 appartements à Paris.

* Nous avons nettoyé ce tableau :
  * Filtrage sur le code postal afin de n'avoir que du 75 ; vérification du code postal afin qu'il n'ait que 5 chiffres
  * Conversions de certaines valeurs avec renommage des champs si nécessaire.
  * Conversion des données de date en date au sens R.
  * Les appartements dont les prix ne sont pas fournis sont supprimés.
  * Le script faisant ce travail est `P00_Projet_desc.R`.

---

# Les monuments de Paris

* Nous nous sommes dit que les locataires étaient peut-être intéressés par une proximité entre leur location et les monuments parisiens.

* Un peu de scrapbooking sur le site http://monumentsdeparis.net/ permet de récupérer les monuments parisiens ainsi que leurs adresses.
* Une seconde étape est d'utiliser l'API REST `adresse.data.gouv.fr` pour récupérer les adresses dans un format harmonisé et les longitudes/latitudes.

* L'étape suivante a été de déterminer pour chaque logement le nombre de monuments à moins de 100m, 200m, 500m et 1km.
* Le script faisant ce travail est `P04_monuments.R`. Le résultat est stocké dans la table `P04_dist_monuments`.

---

# Les gares et stations de métro/RER

* Comme pour les monuments, il est peut-être intéressant pour un locataire de chercher à ce que son logement soit proche de gares.

* Pour en mesurer, une autre source de données est le fichier `accessibilite-des-gares-et-stations-metro-et-rer-ratp.csv` récupéré sur `https://www.data.gouv.fr/en/datasets/accessibilite-des-gares-et-stations-de-metro-et-rer-ratp-1/`.
* Les retraitements de ce fichier consistent en :
  * Ne garder que les adresses du département 75.
  * Supprimer les doublons
  * Séparer la longitude et la latitude en deux colonnes distinctes.

* Et la dernière étape a consisté à déterminer le nombre de stations/gares à moins de 100m, 200m, 500m et 1km.
* Le script faisant ce travail est `P01_ratp.R`. Le résultat est stocké dans la table `P01_dist_RATP`.

---

# Les avis des locataires sur les logements

* Nous avons récupéré un fichier `reviews.csv` sur `http://insideairbnb.com/` contenant les revues des clients (environ 1 000 000 de lignes).
* Nous avons tenté d'en extraire des informations mais la variété des langues a rendu son exploitation assez difficile.
* De plus, notre but étant d'estimer le prix d'une location que l'on aurait à proposer, il nous a semblé difficile d'avoir des revues dès le début.

---

# Fabrication des quartiers

* Nous avons téléchargé les quartiers de Paris sur le site https://opendata.paris.fr/explore/dataset/quartier_paris/export/.
* Nous avons exporté les id, latitudes, longitudes des différentes locations au format csv.

* Ces deux sources ont été importées dans le logiciel QGIS. Son outil d'intersection nous a alors permis de déterminer à quels quartiers appartiennent chacune des locations.
* Après cette opération, nous avons exporté le résultat dans le fichier `quartiers.csv`.

![QGIS](./images/qgis.png){width=500px}

---

# Premier modèle

---

## Répartition des prix

Si on trace la densité des prix, on réalise tout d'abord que les prix sont à valeurs dans l'intervalle $[0;+\infty[$ et d'autre part, par rapport à l'intervalle de prix, cette densité a tendance à s'accumuler sur la gauche de l'intervalle.

![Densite-prix](./notes/densite-prix.png)

Il semble donc judicieux de travailler sur le log des prix. Dans ce cas, la densité de $\log(price)$ est beaucoup plus centrée et ressemble davantage à une gaussienne.

![Densite-prix](./notes/densite-log-prix.png)
